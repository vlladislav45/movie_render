(this.webpackJsonpmovie_render=this.webpackJsonpmovie_render||[]).push([[10],{142:function(n,e,t){"use strict";t.r(e);var r=t(3),a=t(0),o=t.n(a),i=t(7),c=t(12),u=t(32),l=t(30),m=t(18),f=t(27),s=t(11),p=t(2),d=t(13);t(17),t(5),t(6);function v(){var n=Object(r.a)(["\n  position: relative;\n  text-align: justify;\n  font-size: 1rem;\n  letter-spacing: .6px;\n  line-height: 1.4rem;\n  max-height: 280px;\n  \n  color: ",";\n"]);return v=function(){return n},n}function b(){var n=Object(r.a)(["\n  text-align: left;\n  color: ",";\n  margin-bottom: 10px;\n  font-size: 1.1rem;\n"]);return b=function(){return n},n}function g(){var n=Object(r.a)(["\n  grid-area: 3 / 1 / 4 / -1;\n  ",";\n  position: relative;\n  width: 100%;\n  max-height: 300px;\n  margin: 10px 0;\n  font-family: 'Roboto', sans-serif;\n"]);return g=function(){return n},n}function h(){var n=Object(r.a)(["\n  grid-area: 2 / 2 / 3 / -1;\n  ",";\n  text-align: center;\n  \n  max-width: 100%;\n  & > video {\n    object-fit: fill;\n  }\n"]);return h=function(){return n},n}function O(){var n=Object(r.a)(["\n  grid-area: 1 / 1 / 1 / -1;\n  text-align: center;\n  font-family: 'Marck script', cursive;\n  font-size: 2rem;\n  font-weight: bold;\n  \n  letter-spacing: 0.15rem;\n  \n  color: ",";\n  margin-bottom: 20px;\n  ",";\n"]);return O=function(){return n},n}function x(){var n=Object(r.a)(["\n  position: relative;\n  display: grid;\n  grid-template-columns: ",";\n  grid-template-rows: min-content min-content;\n  grid-auto-rows: min-content;\n  grid-gap: 20px;\n  \n  width: ",";\n  margin: auto;\n  padding-bottom: 50px;\n  \n  opacity: 0;\n  ","\n"]);return x=function(){return n},n}var j=p.c.div(x(),(function(n){return n.$oneColumn?"auto":"minmax(280px, 30%) auto"}),(function(n){return n.$oneColumn?"min-content":"95vw"}),(function(n){return n.fadeIn&&"\n    opacity: 1;\n    transition: opacity 200ms;\n  "})),E=p.c.div(O(),(function(n){return n.theme.onSurface}),(function(n){return n.$oneColumn&&"\n    font-size: 1.8rem;\n  "})),w=p.c.div(h(),(function(n){return n.$oneColumn&&"\n    grid-area: 2 / 1 / 3 / -1;\n  "})),y=p.c.div(g(),(function(n){return n.$oneColumn&&"\n    grid-area: 4 / 1 / 5 / -1;\n  "})),C=p.c.h3(b(),(function(n){return n.theme.onSurface})),S=Object(p.c)(u.a)(v(),(function(n){return n.theme.onSurfaceMD})),$=function(n){var e=n.summary,t=void 0===e?"":e,r=n.oneColumn,a=0===t.length;return o.a.createElement(y,{$oneColumn:r},o.a.createElement(C,null,a?"No summary available":"Summary:"),o.a.createElement(S,null,t))},k=t(49),I=t.n(k),R=t(56),z=t(51),M=t(4),T=t(16),L=t(14),N=t(82),D=t(71),_=t(66);function F(){var n=Object(r.a)(["\n  position: absolute;\n  left: 0;\n  bottom: 2px;\n  font-size: 0.5rem;\n"]);return F=function(){return n},n}function G(){var n=Object(r.a)(["\n  ",";\n"]);return G=function(){return n},n}function P(){var n=Object(r.a)(["\n  ",";\n  \n  transition: opacity 100ms;\n  opacity: 0;\n  ",";\n"]);return P=function(){return n},n}function Y(){var n=Object(r.a)(["\n  position: absolute;\n  top: var(--padding);\n  width: 50px;\n  max-width: 50px;\n  height: 50px;\n  max-height: 50px;\n  outline: 1px solid #E4E6E7;\n"]);return Y=function(){return n},n}function A(){var n=Object(r.a)(["\n  position: absolute;\n  bottom: var(--padding);\n  right: 0;\n"]);return A=function(){return n},n}function B(){var n=Object(r.a)(["\n  position: absolute;\n  left: 60px;\n  top: calc(var(--padding) - 5px);\n  width: auto;\n  height: calc(100% - (var(--padding) * 3) + 5px);\n  font-size: 0.70rem;\n  line-height: 1.05rem;\n  color: ",";\n  \n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  &::-webkit-scrollbar {\n    width: 0px;\n    background: transparent; /* Disable scrollbar Chrome/Safari/Webkit */\n  }\n"]);return B=function(){return n},n}function J(){var n=Object(r.a)(["\n  position: absolute;\n  left: 0;\n  bottom: var(--padding);\n  font-size: 0.9rem;\n  color: ",";\n  \n  transition: transform 100ms;\n  &:hover {\n    transform: scale(1.05);\n    cursor: pointer;\n  }\n"]);return J=function(){return n},n}function V(){var n=Object(r.a)(["\n  --padding: 12px;\n  position: relative;\n  flex: 0 1 100px;\n  max-width: 100%;\n  align-items: center;\n  display: flex;\n  padding: var(--padding) 0;\n  ",";\n"]);return V=function(){return n},n}var K=p.c.div(V(),(function(n){return"\n    border-top: 1px solid ".concat(n.theme.disabled,"38;\n    &:last-child {\n      border-bottom: 1px solid ").concat(n.theme.disabled,"38;\n    }\n  ")})),U=p.c.p(J(),(function(n){return n.theme.onSurface})),W=p.c.p(B(),(function(n){return n.theme.onSurfaceMD})),q=Object(p.c)(u.i)(A()),H=Object(p.b)(Y()),Q=p.c.img(P(),H,(function(n){return n.$fadeIn&&"opacity: 1"})),X=Object(p.c)(d.e)(G(),H),Z=p.c.p(F()),nn=function(n){var e=n.review,r=e.comment,i=e.userRating,c=e.username,u=e.profileImage,l=e.createdTime,m=n.isOwn,f=Object(_.a)(),s=Object(a.useState)(null),p=Object(M.a)(s,2),d=p[0],v=p[1];return Object(a.useEffect)((function(){}),[d]),Object(a.useEffect)((function(){if(f&&!m)if(u){Promise.race([f,function(n){return N.a.fetchResource(D.a+c+"/"+n)}(u)]).then((function(n){if(console.group("gotcha"),console.log(n),console.groupEnd(),n){var e=n.data;v(e)}}))}else{var n=t(67);v(n)}}),[f]),o.a.createElement(K,null,o.a.createElement(U,{title:"View profile",onClick:function(){}},c),m?o.a.createElement(X,{shape:"rectangle"}):o.a.createElement(Q,{$fadeIn:!!d,src:d,alt:"profile image of ".concat(c)}),o.a.createElement(W,null,r),o.a.createElement(q,{rating:i,maxStars:5,starSize:"18px",color:"onSurface"}),o.a.createElement(Z,null,new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit"}).format(l)))};function en(){var n=Object(r.a)(["\n  margin: 10px 0;\n"]);return en=function(){return n},n}function tn(){var n=Object(r.a)([""]);return tn=function(){return n},n}function rn(){var n=Object(r.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return rn=function(){return n},n}function an(){var n=Object(r.a)(["\n  font-size: 1.1em;\n  color: ",";\n  margin-bottom: 5px;\n"]);return an=function(){return n},n}function on(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n ",";\n"]);return on=function(){return n},n}function cn(){var n=Object(r.a)(["\n  width: 100%;\n  margin-top: 10px;\n  font-size: 0.9rem;\n  color: ",";\n"]);return cn=function(){return n},n}function un(){var n=Object(r.a)(["\n  flex: 0 0 auto;\n  position: -webkit-sticky; /* Safari */\n  position: sticky;\n  top: -20px; // Counter the padding\n  margin-bottom: 15px;\n"]);return un=function(){return n},n}function ln(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-width: 100%;\n"]);return ln=function(){return n},n}function mn(){var n=Object(r.a)(["\n  grid-area: 2 / 1 / 3 / 1;\n  position: relative;\n  top: -35px;\n  \n  max-width: 100%;\n  ",";\n"]);return mn=function(){return n},n}var fn=p.c.div(mn(),(function(n){return n.$oneColumn&&"\n    grid-area: 3 / 1 / 4 / -1;\n    top: 0;\n  "})),sn=Object(p.c)(u.a)(ln()),pn=Object(p.c)(u.i)(un()),dn=p.c.p(cn(),(function(n){return n.theme.onSurface})),vn=p.c.div(on(),(function(n){return Object(s.i)(n.$device,s.b)?"\n    width: 70vw;\n    font-size: 0.8rem;\n  ":"\n    width: 40vw;\n    font-size: 1rem;\n  "})),bn=p.c.h3(an(),(function(n){return n.theme.onSurface})),gn=p.c.div(rn()),hn=Object(p.c)(d.a)(tn()),On=Object(p.c)(d.c)(en()),xn=function(n){var e=Object(f.a)().device;return o.a.createElement(vn,{$device:e},o.a.createElement(bn,null,n.title),o.a.createElement(On,{inputType:"textarea",withCharacterCount:!0,label:"Add review",helperText:"Review text is optional"}),o.a.createElement(gn,null,o.a.createElement(hn,{type:"text",onClick:n.onCancel},"Cancel"),o.a.createElement(hn,{type:"contained",onClick:n.onConfirm},"Confirm")))},jn=Object(T.a)((function(n){return n.moviesReducer.selectedMovie.reviews}),(function(n){return n.moviesReducer.selectedMovie.reviewsLoading}),(function(n){return n.moviesReducer.selectedMovie.movieInfo.movieRating}),(function(n){return n.auth.loggedInUser}),(function(n,e,t,r){return{reviews:n,reviewsLoading:e,movieRating:t,isLoggedIn:null!==r,userId:r.userId,username:r.username}})),En=function(n){var e=n.movieName,t=n.movieId,r=n.oneColumn,c=Object(i.d)(),l=Object(i.e)(jn),f=l.isLoggedIn,s=l.movieRating,p=l.userId,d=l.username,v=l.reviews,b=l.reviewsLoading,g=Object(a.useState)([]),h=Object(M.a)(g,2),O=h[0],x=h[1];Object(a.useEffect)((function(){c(Object(m.m)(t))}),[]),Object(a.useEffect)((function(){if(j){var n=v.filter((function(n){return n.username===d})),e=v.filter((function(n){return n.username!==d}));x([].concat(Object(z.a)(n),Object(z.a)(e)))}else x(v)}),[v]);var j=Object(a.useMemo)((function(){return f&&v.some((function(n){return n.username===d}))}),[v]);function E(){return(E=Object(R.a)(I.a.mark((function n(r,a){var o,i,u;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(Object(m.n)(t,p,a,r));case 2:o=n.sent,i=o.error,u=i?"Error: ".concat(i):"Successfully rated ".concat(e," with ").concat(a," stars"),c(Object(L.g)(u,null,{useColor:i?"#CF6679":"primary"})),c(Object(m.m)(t));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return o.a.createElement(fn,{$oneColumn:r},o.a.createElement(u.e,{isLoading:b}),o.a.createElement(C,null,"Reviews:"),o.a.createElement(sn,null,o.a.createElement(pn,{id:"movieRating",title:f?j?"You already rated this movie":"Rate movie":"You need to login to rate",rateable:f&&!j,onRate:function(n){c(Object(L.h)(o.a.createElement(xn,{title:"Rate with ".concat(n," stars"),onCancel:function(){return c(Object(L.c)())},onConfirm:function(e){return function(n,e){return E.apply(this,arguments)}(e,n)}})))},maxStars:5,rating:s,color:!f||j?"disabled":"primary"}),!b&&0===v.length&&o.a.createElement(dn,null,"Be the first to leave a review"),O.map((function(n,e){return o.a.createElement(nn,{key:"review_".concat(e),review:n,isOwn:n.username===d})}))))},wn=t(36),yn=t(55);function Cn(){var n=Object(r.a)(["\n  width: 300px;\n  height: 300px;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(r.a)(["\n  font-size: 1rem;\n  margin: 5px 0;\n"]);return Sn=function(){return n},n}function $n(){var n=Object(r.a)(["\n  color: ",";\n  margin: 0 10px;\n  scroll-snap-align: start;\n"]);return $n=function(){return n},n}function kn(){var n=Object(r.a)(["\n  display: flex;\n  scroll-snap-type: x mandatory; // TODO: figure it out\n  overflow-x: auto; // TODO: Make this scrollable like genres or like a carousel\n"]);return kn=function(){return n},n}function In(){var n=Object(r.a)(["\n  text-align: center;\n  font-size: 1.2rem;\n  margin-bottom: 10px;\n"]);return In=function(){return n},n}function Rn(){var n=Object(r.a)(["\n  grid-area: 5 / 1 / 5 / -1;\n  ","\n  width: 100%;\n  height: 400px;\n  overflow: hidden;\n  color: ",";\n  padding: 10px 10px 0;\n"]);return Rn=function(){return n},n}var zn=Object(p.c)(u.a)(Rn(),(function(n){return n.$oneColumn&&"\n    grid-area: 7 / 1 / 8 / -1;\n  "}),(function(n){return n.theme.onSurface})),Mn=p.c.h3(In()),Tn=p.c.div(kn()),Ln=Object(p.c)(yn.a)($n(),(function(n){return n.theme.onSurface})),Nn=p.c.h4(Sn()),Dn=p.c.img(Cn());var _n=function(n){var e=n.movieId,t=n.oneColumn,r=Object(_.a)(),i=Object(a.useState)([]),c=Object(M.a)(i,2),u=c[0],m=c[1];return Object(a.useEffect)((function(){if(r){Promise.race([r,wn.a.getSimilarMovies(e,0,10)]).then((function(n){if(n){var e=n.data;m(e)}}))}}),[e,r]),o.a.createElement(zn,{$oneColumn:t},o.a.createElement(Mn,null,"Similar Movies:"),o.a.createElement(Tn,null,u.map((function(n){var e=n.id,t=n.movieName,r=n.posterName;return o.a.createElement(Ln,{key:e,to:"/movie/".concat(e)},o.a.createElement(Nn,null,t),o.a.createElement(Dn,{src:"".concat(l.a,"movies/poster/").concat(r),alt:t}))}))))};function Fn(){var n=Object(r.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  height: 90%;\n  \n  & > * {\n    margin: 0 3px;\n  }\n"]);return Fn=function(){return n},n}function Gn(){var n=Object(r.a)(["\n  ",";\n  max-height: 200px;\n"]);return Gn=function(){return n},n}var Pn=p.c.div(Gn(),(function(n){return n.$oneColumn?"\n      grid-area: 5 / 1 / 6 / -1;\n    ":"\n      grid-area: 4 / 1 / 5 / 1;\n      height: 200px;\n  "})),Yn=Object(p.c)(u.a)(Fn()),An=function(n){var e=n.genres,t=void 0===e?[]:e,r=n.oneColumn;return o.a.createElement(Pn,{$oneColumn:r},o.a.createElement(C,null,"Genres"),o.a.createElement(Yn,null,t.map((function(n,e){return o.a.createElement(d.b,{key:"genre_".concat(e),selectable:!1,chipType:"outlined",color:"primary",chipText:n,closeable:!1})}))))};function Bn(){var n=Object(r.a)(["\n  font-size: 1rem;\n  margin-right: 15px;\n  ","\n  color: ",";\n"]);return Bn=function(){return n},n}function Jn(){var n=Object(r.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  & > * {\n    margin: 5px 3px;\n  }\n"]);return Jn=function(){return n},n}function Vn(){var n=Object(r.a)(["\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return Vn=function(){return n},n}function Kn(){var n=Object(r.a)(["\n  ",";\n  max-height: 200px;\n"]);return Kn=function(){return n},n}var Un=p.c.div(Kn(),(function(n){return n.$oneColumn?"\n    grid-area: 6 / 1 / 7 / -1;\n  ":"\n    grid-area: 4 / 2 / 5 / -1;\n    height: 200px;\n  "})),Wn=Object(p.c)(u.a)(Vn()),qn=p.c.section(Jn()),Hn=p.c.h4(Bn(),(function(n){return n.$oneColumn&&"\n    margin-right: 5px;\n  "}),(function(n){return n.theme.primary})),Qn=function(n){var e=n.actors,t=void 0===e?[]:e,r=n.director,a=n.oneColumn;return o.a.createElement(Un,{$oneColumn:a},o.a.createElement(C,null,"Cast"),o.a.createElement(Wn,null,t.length>0&&o.a.createElement(qn,null,o.a.createElement(Hn,{$oneColumn:a},"Actors: "),t.map((function(n,e){return o.a.createElement(d.b,{key:"actor_".concat(e),selectable:!1,chipType:"outlined",color:"primary",chipText:n,closeable:!1,style:{marginBottom:"2px"}})}))),r&&o.a.createElement(qn,null,o.a.createElement(Hn,{$oneColumn:a},"Director: "),o.a.createElement(d.b,{selectable:!1,chipText:r,chipType:"outlined",closeable:!1,color:"primary"}))))},Xn=l.a+"movies/single/hdPoster/",Zn=Object(c.i)((function(n){var e=n.match.params,t=(n.history,Object(i.d)()),r=o.a.useRef({current:[]}),c=e.movieId,p=Object(f.a)("SingleMovie"),d=p.width,v=p.device,b=Object(a.useMemo)((function(){return Object(s.i)(v,s.b)}),[d]),g=Object(i.e)((function(n){var e=n.moviesReducer,t=e.selectedMovie,r=e.filters.genres;return{selectedMovie:t.movieInfo,previousGenres:r,isLoading:t.isLoading}})),h=g.selectedMovie,O=g.previousGenres,x=g.isLoading;Object(a.useEffect)((function(){return r.current=O,t(Object(m.p)({genres:z})),function(){return t(Object(m.p)({genres:r.current}))}}),[]),Object(a.useEffect)((function(){t(Object(m.g)()),t(Object(m.k)(c))}),[c]);var y=h.posterName,C=h.movieSummary,S=h.directorName,k=h.actorNames,I=void 0===k?[]:k,R=(h.movieYear,h.movieViews,h.movieName),z=h.movieGenres;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.e,{isLoading:!d||!y||x}),o.a.createElement(j,{fadeIn:!x,$oneColumn:b},!!d&&!!y&&!x&&o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{$oneColumn:b},o.a.createElement("h2",null,R)),o.a.createElement(w,{$oneColumn:b},o.a.createElement("video",{width:b?d-30:d/1.5,height:b?(d-30)/1.6:d/1.5/1.6,controls:!0,poster:Xn+y},o.a.createElement("source",{src:"".concat(l.a,"stream/mp4/Kenpachi"),type:"video/mp4"}))),o.a.createElement($,{oneColumn:b,summary:C}),o.a.createElement(En,{movieId:c,movieName:R,oneColumn:b}),o.a.createElement(An,{genres:z,oneColumn:b}),o.a.createElement(Qn,{oneColumn:b,actors:I,director:S}),o.a.createElement(_n,{oneColumn:b,movieId:c}))))}));function ne(){var n=Object(r.a)(["\n  animation: appear 1s linear;\n  \n  @keyframes appear {\n    0% {\n     opacity: 0;\n    }\n    50% {\n      opacity: 0.3;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"]);return ne=function(){return n},n}e.default=function(){return o.a.createElement(Zn,null)},p.c.div(ne())}}]);
//# sourceMappingURL=10.d7a7d821.chunk.js.map