{"version":3,"sources":["service-workers/imageLoader.worker.js","modules/movies/AllMovies/MoviesPagination/index.jsx","assets/icons/remove_bookmark.svg","assets/icons/play.svg","modules/movies/AllMovies/MoviesGrid/MovieCardStyle.js","modules/movies/AllMovies/MoviesGrid/MovieCard.jsx","utils/dateTimeUtils.js","modules/movies/AllMovies/MoviesGrid/styles.js","modules/movies/AllMovies/MoviesGrid/index.jsx","modules/movies/AllMovies/styles.js","modules/movies/AllMovies/index.jsx","pages/MainPage/index.jsx"],"names":["module","exports","Worker","__webpack_public_path__","selector","createSelector","store","moviesReducer","count","selectedPage","moviesPerPage","MoviesPagination","style","className","onPageChange","dispatch","useDispatch","history","useHistory","location","useLocation","search","pathname","useSelector","useState","currentPage","setCurrentPage","useEffect","getMoviesCount","query","qs","parse","items","Number","page","isNaN","changeMoviesPerPage","changeSelectedPage","Math","ceil","parseQuery","useLayoutEffect","push","itemsCount","itemsPerPage","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","id","height","width","y","x","_ref3","d","strokeWidth","stroke","ry","rx","cy","cx","y2","x2","y1","x1","fillOpacity","strokeOpacity","_ref","svgRef","title","props","ref","ForwardRef","forwardRef","viewBox","transitionDurations","largeExpand","largeCollapsing","standardEasing","transitionFunctions","SingleMovieLink","deceleratedEasing","acceleratedEasing","styled","div","theme","isDark","surface","secondary","applyShadow","calcDarkThemeOverlay","CardLowerSection","MoviePoster","img","fadeIn","BookMarkFAB","mediumExpand","$disabled","disabled","$isLoading","overlay","BookMark","BookMarkIcon","onSecondary","contrast","MovieTitle","p","onSurface","MovieSubTitle","onSurfaceMD","MovieSummaryContainer","SummaryTitle","Summary","Actors","BottomBar","WatchButton","Button","MovieRating","Rating","MovieCard","movie","year","movieName","movieRating","summary","actors","genres","duration","poster","onClick","onBookMarkClick","isBookmarked","showBookmark","isLoading","alt","src","e","stopPropagation","as","RemoveBookmark","minutes","floor","hours","msToTime","join","Icon","PlayIcon","color","type","rating","maxStars","StyledMoviesGrid","columns","device","XS_SM","SM","min","M","L","getColumns","$device","rows","Wrapper","userReducer","auth","bookmarks","userId","loggedInUser","isLoggedIn","bookmarksLoading","React","movies","posters","useDeviceDimensions","openMovie","useCallback","movieId","bookmarkMovie","isAdded","some","bookmark","removeBookmark","addBookmark","renderMovies","map","index","StyledMoviesContainer","NoMovies","error","AllMovies","isMounted","useRef","prevDragX","gridRef","isDragging","containerRef","screenWidth","setPosters","imageWorker","setImageWorker","classNames","setClassNames","transitionKey","setTransitionKey","pageChanged","current","previous","random","imagesReceived","msg","data","imageData","worker","ImageWorker","onmessage","forEach","posterName","postMessage","url","API_URL","swipeThreshold","useMemo","onDragStart","closest","document","querySelector","transition","onDrag","xDiff","abs","transform","filter","onDragEnd","grid","dragAmount","changePage","then","isSamePage","setTimeout","opacity","drag","addHorizontalDrag","dispose","text","resetFilter","SwitchTransition","CSSTransition","timeout","MainPage"],"mappings":"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","file":"static/js/5.8ebe677d.chunk.js","sourcesContent":["module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"0908477fb3b541ebbbcb.worker.js\");\n};","import React, { useEffect, useLayoutEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport qs from 'query-string';\nimport { Pagination } from 'components';\nimport {\n  changeMoviesPerPage,\n  changeSelectedPage,\n  getMoviesCount,\n} from 'reducers/moviesReducer';\n\nconst selector = createSelector(\n  store => store.moviesReducer,\n  ({ count, selectedPage, moviesPerPage }) => ({\n    count, selectedPage, moviesPerPage\n  }))\nconst MoviesPagination = ({ style, className, onPageChange }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const { search, pathname } = location;\n  \n  const {\n    count = 0,\n    selectedPage = 0,\n    moviesPerPage,\n  } = useSelector(selector);\n  \n  const [currentPage, setCurrentPage] = useState(selectedPage);\n  \n  function parseQuery() {\n    const query = qs.parse(search);\n    const items = Number(query.items);\n    let page = Number(query.page);\n    if (!isNaN(items) && items !== moviesPerPage) {\n      dispatch(changeMoviesPerPage(items));\n    }\n    if (!isNaN(page)) {\n      if (page <= 1) dispatch(changeSelectedPage(0));\n      else if (page !== currentPage + 1) {\n        if (count > 0 && page >= Math.ceil(count / moviesPerPage)) page = Math.ceil(count / moviesPerPage)\n        setCurrentPage(page - 1);\n        dispatch(changeSelectedPage(page - 1));\n      }\n    }\n  }\n  \n  useEffect(() => {\n    dispatch(getMoviesCount());\n  }, [])\n  useEffect(() => {\n    if (!search) {\n      dispatch(changeSelectedPage(0));\n      return;\n    }\n    parseQuery();\n  }, [search])\n  \n  useLayoutEffect(() => {\n    if (selectedPage !== currentPage) {\n      onPageChange(selectedPage, currentPage);\n      history.push(pathname + `?page=${selectedPage + 1}&items=${moviesPerPage}`);\n      setCurrentPage(selectedPage);\n    }\n  }, [selectedPage])\n  \n  function changePage(page) {\n    if (page !== selectedPage)\n      dispatch(changeSelectedPage(page));\n  }\n  \n  if (count <= 0) return null;\n  return (\n    <div style={style} className={className}>\n      <Pagination\n        onPageChange={changePage}\n        itemsCount={count}\n        currentPage={currentPage}\n        itemsPerPage={moviesPerPage}\n      />\n    </div>\n  );\n  \n};\n\nexport default MoviesPagination;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"title\", null, \"background\"), /*#__PURE__*/React.createElement(\"rect\", {\n  fill: \"none\",\n  id: \"canvas_background\",\n  height: 602,\n  width: 802,\n  y: -1,\n  x: -1\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"svg_1\",\n  fill: \"none\",\n  d: \"m0,0.25948l24,0l0,24l-24,0l0,-24z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"svg_2\",\n  d: \"m17,3l-10,0c-1.1,0 -1.99,0.9 -1.99,2l-0.01,16l7,-3l7,3l0,-16c0,-1.1 -0.9,-2 -2,-2z\"\n}), /*#__PURE__*/React.createElement(\"ellipse\", {\n  className: \"sign-circle\",\n  strokeWidth: 2,\n  stroke: \"#000\",\n  ry: 6,\n  rx: 6,\n  id: \"svg_7\",\n  cy: 16.91884,\n  cx: 16.81674,\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"line\", {\n  className: \"sign-stroke\",\n  stroke: \"#000\",\n  id: \"svg_11\",\n  y2: 17.25529,\n  x2: 19.4236,\n  y1: 17.25529,\n  x1: 14.23409,\n  fillOpacity: \"null\",\n  strokeOpacity: \"null\",\n  strokeWidth: 2,\n  fill: \"none\"\n}));\n\nvar SvgRemoveBookmark = function SvgRemoveBookmark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24.000000000000004,\n    height: 24.000000000000004,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRemoveBookmark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/remove_bookmark.3b6a0cf9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 5v14l11-7z\"\n});\n\nvar SvgPlay = function SvgPlay(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPlay, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/play.f5408bdf.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport { applyShadow, calcDarkThemeOverlay } from 'utils/colorUtils';\nimport { Rating } from 'components';\nimport { Button } from 'components/basic';\nimport { transitionDurations, transitionFunctions } from 'config/animationConstants';\nimport { ReactComponent as BookMarkIcon } from 'assets/icons/bookmark.svg';\nimport { ReactComponent as PlayIcon } from 'assets/icons/play.svg';\n\nconst { largeExpand, largeCollapsing } = transitionDurations;\nconst { standardEasing, deceleratedEasing, acceleratedEasing } = transitionFunctions;\nexport const SingleMovieLink = styled.div`${props => {\n  const { theme } = props;\n  const { isDark, surface, secondary } = theme;\n  \n  return `\n    position: relative;\n    overflow: hidden;\n    width: 260px;\n    height: 450px;\n    border-radius: 4px;\n    margin: 0 auto;\n    box-shadow: ${applyShadow(4)};\n    ${isDark && `\n          box-shadow: ${applyShadow(4)},\n                      inset 0 0 0 2000px rgba(255,255,255,\n                      ${calcDarkThemeOverlay(4)});\n    `};\n  `;\n}\n}\n`;\n// 65% lower section 35% poster (this way poster keeps 16/9 ratio)\nexport const CardLowerSection = styled.div`\n  position: absolute;\n  top: 35%;\n  left: 0;\n  width: 100%;\n  height: 65%;\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const MoviePoster = styled.img`\n  width: 100%;\n  height: 35%;\n  opacity: 0;\n  transition: opacity 0.3s;\n  ${props => props.fadeIn && 'opacity: 1'};\n`;\n\nexport const BookMarkFAB = styled.div`\n  position: absolute;\n  right: 10px;\n  top: 30%;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  z-index: 99;\n  background: ${props => props.theme.secondary};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: ${applyShadow(2)};\n  transition: all ${transitionDurations.mediumExpand}ms ${standardEasing};\n  &:hover {\n    cursor: pointer;\n    transform: scale(1.06);\n    box-shadow: ${applyShadow(4)};\n  }\n  \n  ${props => props.$disabled && `\n    pointer-events: none;\n    background: ${props.theme.disabled};\n    box-shadow: none;\n  `};\n  \n  ${props => props.$isLoading && `\n    &:after {\n      position: absolute;\n      content: '';\n      width: 80%;\n      height: 80%;\n      border-radius: 50%;\n      border-top: 2px solid ${props.theme.overlay};\n      animation: rotate 1s infinite ${standardEasing};\n    }\n    \n    @keyframes rotate {\n      from {\n        transform: rotate(0);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n  `};\n`;\n\nexport const BookMark = styled(BookMarkIcon)`\n  fill: ${props => props.theme.onSecondary};\n  & .sign-stroke {\n    stroke: ${props => props.theme.onSecondary};\n  }\n  & .sign-circle {\n    stroke: ${props => props.theme.onSecondary};\n    fill: ${props => props.theme.contrast};\n  }\n  transition: opacity 0.5s;\n  ${props => props.$isLoading && `\n  \n  `};\n`;\n\n\nexport const MovieTitle = styled.p`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n  padding: 5px 0;\n  \n  font-size: 0.9rem;\n  text-align: left;\n  font-family: 'Roboto', sans-serif;\n  color: ${props => props.theme.onSurface};\n\n`;\n\nexport const MovieSubTitle = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 0.6rem;\n  & > :not(:first-child), & > :not(:last-child) {\n    margin: 0 2px;\n  }\n  color: ${props => props.theme.onSurfaceMD};\n`\n\nexport const MovieSummaryContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  height: 45%;\n  overflow: hidden;\n  font-family: 'Roboto', sans-serif;\n`;\n\nexport const SummaryTitle = styled.p`\n  font-size: 0.75rem;\n  color: ${props => props.theme.onSurface};\n  margin-bottom: 8px;\n`;\n\nexport const Summary = styled.p`\n  font-size: 0.7rem;\n  color: ${props => props.theme.onSurfaceMD};\n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  &::-webkit-scrollbar {\n    width: 0px;\n    background: transparent; /* Disable scrollbar Chrome/Safari/Webkit */\n  }\n`;\n\nexport const Actors = styled.p`\n  margin-top: 10px;\n  font-size: 0.6rem;\n  color: ${props => props.theme.onSurface};\n`;\n\nexport const BottomBar = styled.div`\n  margin-top: auto;\n  width: 100%;\n  display: flex;\n  align-items: center;\n`;\n\nexport const WatchButton = styled(Button)`\n  & > button {font-size: 0.7rem!important;}\n`;\n\nexport const Year = styled.p`\n  text-align: left;\n  color: ${props => props.theme.onSurface};\n  font-size: .8rem;\n`;\n\nexport const MovieRating = styled(Rating)`\n  margin-left: auto;\n  margin-right: 8px;\n  & > div {\n    width: 1.1rem;\n    height: 1.1rem;\n  }\n`;\n","import React, { useMemo } from 'react';\nimport { msToTime } from 'utils/dateTimeUtils';\nimport { ReactComponent as BookMarkIcon } from 'assets/icons/bookmark.svg';\nimport { ReactComponent as RemoveBookmark } from 'assets/icons/remove_bookmark.svg';\nimport { ReactComponent as PlayIcon } from 'assets/icons/play.svg';\nimport {\n  CardLowerSection,\n  MovieTitle,\n  MoviePoster,\n  SingleMovieLink,\n  MovieRating,\n  BookMarkFAB,\n  BookMark,\n  MovieSummaryContainer,\n  SummaryTitle,\n  Summary,\n  MovieSubTitle,\n  Actors,\n  WatchButton,\n  BottomBar,\n} from './MovieCardStyle';\n\nconst MovieCard = ({\n                     movie: { id, year, movieName, movieRating, summary, actors, genres, duration },\n                     poster, onClick,\n                     onBookMarkClick, isBookmarked,\n                     showBookmark, isLoading\n                   }) => {\n  \n  function handleClick() {\n    onClick(id);\n  }\n  \n  function bookmarkMovie(e) {\n    e.stopPropagation();\n    onBookMarkClick(id, movieName);\n  }\n  \n  return (\n    <SingleMovieLink>\n      <MoviePoster\n        fadeIn={!!poster}\n        alt={poster ? `Movie poster ${movieName}` : ''}\n        src={poster}\n      />\n      {showBookmark && (\n        <BookMarkFAB\n          onClick={bookmarkMovie}\n          title={isBookmarked ? 'Remove bookmark' : 'Bookmark movie'}\n          $disabled={isLoading}\n          $isLoading={isLoading}\n        >\n          <BookMark\n            as={isBookmarked ? RemoveBookmark : BookMarkIcon}\n            $isLoading={isLoading}\n          />\n        </BookMarkFAB>\n      )}\n      <CardLowerSection>\n        <MovieTitle>\n          {movieName}\n        </MovieTitle>\n        <MovieSubTitle>\n          <p>{msToTime(duration)}</p>\n          <p>/</p>\n          <p>{year}</p>\n          {genres.length > 0 && (\n            <>\n              <p>/</p>\n              <p>{genres.join(', ')}</p>\n            </>\n          )}\n        </MovieSubTitle>\n        {summary && (\n          <MovieSummaryContainer>\n            <SummaryTitle>Summary</SummaryTitle>\n            <Summary>{summary}</Summary>\n          </MovieSummaryContainer>\n        )}\n        <Actors>\n          {actors.join(', ')}\n        </Actors>\n        <BottomBar>\n          <WatchButton\n            Icon={PlayIcon}\n            color='secondary'\n            onClick={handleClick}\n            type='text'\n          >\n            Watch\n          </WatchButton>\n          <MovieRating color='secondary' rating={movieRating} maxStars={5}/>\n        </BottomBar>\n      </CardLowerSection>\n    </SingleMovieLink>\n  \n  );\n};\n\nexport default MovieCard;\n","export function msToTime(duration) {\n  let minutes = Math.floor((duration / (1000 * 60)) % 60),\n    hours = Math.floor((duration / (1000 * 60 * 60)) % 24);\n  \n  hours = (hours === 0) ? \"\" : hours + \"h \";\n  minutes = (minutes === 0) ? \"\" : minutes + \"min\";\n  \n  return hours + minutes;\n}","import styled from 'styled-components';\nimport { transitionFunctions, transitionDurations } from 'config/animationConstants';\nimport { SM, XS_SM, M, L } from 'utils/mediaUtils';\n\nconst { largeExpand, largeCollapsing } = transitionDurations;\nconst { standardEasing, deceleratedEasing, acceleratedEasing } = transitionFunctions;\n\nexport const StyledMoviesGrid = styled.div`${props => {\n  const { fadeIn, moviesPerPage, $device } = props;\n\n  const columns = getColumns($device, moviesPerPage);\n  const rows = Math.ceil(moviesPerPage / columns);\n  return `\n    display: grid;\n    grid-template-columns: repeat(${columns}, 1fr);\n    grid-template-rows: repeat(${rows}, auto);\n    grid-auto-rows: min-content;\n    grid-column-gap: 10px;\n    grid-row-gap: 10px;\n    \n    width: 100%;\n    height: 100%;\n    position: relative;\n    opacity: 0;\n    ${fadeIn && `\n      transition: opacity 300ms;\n      opacity: 1\n    `};\n    `;\n}}`;\n\nexport const Wrapper = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  \n  margin: 30px auto;\n  \n  &.page-transition-prev-enter {\n    transform: translateX(-120%);\n  }\n  &.page-transition-prev-enter-active, &.page-transition-prev-enter-done {\n    transform: translateX(0);\n    transition: transform ${largeExpand}ms ${deceleratedEasing};\n  }\n\n  &.page-transition-prev-exit {\n    transform: translateX(0);\n  }\n  \n  &.page-transition-prev-exit-active, &.page-transition-prev-exit-done {\n    transform: translateX(120%);\n    transition: transform ${largeCollapsing}ms ${acceleratedEasing};\n  }\n  \n  &.page-transition-next-enter {\n    transform: translateX(120%);\n  }\n  &.page-transition-next-enter-active, &.page-transition-next-enter-done {\n    transform: translateX(0);\n    transition: transform ${largeExpand}ms ${deceleratedEasing};\n  }\n\n  &.page-transition-next-exit {\n    transform: translateX(0);\n  }\n  &.page-transition-next-exit-active, &.page-transition-next-exit-done {\n    transform: translateX(-120%);\n    transition: transform ${largeCollapsing}ms ${acceleratedEasing};\n  }\n`;\n\nfunction getColumns(device, moviesPerPage) {\n  switch (device) {\n    case XS_SM:\n    case SM:\n      return Math.min(1, moviesPerPage);\n    case M:\n    case L:\n      return Math.min(2, moviesPerPage);\n    default :\n      return Math.min(3, moviesPerPage);\n  }\n}","import React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { useHistory } from 'react-router';\nimport { addBookmark, removeBookmark } from 'reducers/userReducer';\nimport { Loading } from 'components';\nimport useDeviceDimensions from 'hooks/useDeviceDimensions';\nimport { isVisible } from 'utils/DomUtils';\nimport MovieCard from './MovieCard';\nimport { StyledMoviesGrid, Wrapper, } from './styles';\n\nconst selector = createSelector(\n  store => store.userReducer,\n  store => store.auth,\n  store => store.moviesReducer,\n  (userReducer, auth, moviesReducer) => ({\n    bookmarks: userReducer.bookmarks,\n    userId: auth.loggedInUser.userId,\n    isLoggedIn: auth.isLoggedIn,\n    bookmarksLoading: userReducer.bookmarksLoading,\n    selectedPage: moviesReducer.selectedPage,\n    moviesPerPage: moviesReducer.moviesPerPage,\n  }))\nconst MoviesGrid = ({ isLoading, movies, posters, className }, ref) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  \n  const { device } = useDeviceDimensions('MoviesGrid');\n  \n  const { bookmarks, bookmarksLoading, userId, isLoggedIn, selectedPage, moviesPerPage } = useSelector(selector)\n  \n  const openMovie = useCallback(movieId => {\n    history.push('/movie/' + movieId);\n  }, [history]);\n  \n  const bookmarkMovie = useCallback((movieId, movieName) => {\n    const isAdded = bookmarks.some(bookmark => bookmark.movieId === movieId && bookmark.movieName === movieName);\n    \n    if (!isAdded)\n      dispatch(addBookmark(movieId, userId, movieName))\n    else\n      dispatch(removeBookmark(movieId, userId, movieName))\n  }, [bookmarks])\n  \n  const renderMovies = useCallback(() => {\n    return movies.map((movie, index) => {\n        // if (!movie) return <MovieCard key={`movie_${index}`} isEmpty={true}/>\n        const isBookmarked = bookmarks.some(bookmark => bookmark.movieId === movie.id && bookmark.movieName === movie.movieName)\n        return (\n          <MovieCard\n            key={movie.id}\n            onClick={openMovie}\n            showBookmark={isLoggedIn}\n            onBookMarkClick={bookmarkMovie}\n            isBookmarked={isBookmarked}\n            isLoading={bookmarksLoading[movie.id]}\n            movie={movie}\n            poster={posters[movie.id]}\n          />\n        );\n      },\n    );\n  }, [movies, posters, bookmarks, bookmarksLoading])\n  \n  \n  return (\n    <Wrapper className={className} ref={ref}>\n      <Loading isLoading={isLoading || !device} key='loading'/>\n      {!!device &&\n        <StyledMoviesGrid\n          $device={device}\n          fadeIn={!isLoading}\n          moviesPerPage={moviesPerPage}\n        >\n          {renderMovies()}\n        </StyledMoviesGrid>\n      }\n    </Wrapper>\n  \n  );\n};\n\nexport default React.forwardRef(MoviesGrid);\n","import styled from 'styled-components';\n\nexport const StyledMoviesContainer = styled.div`\n    position: relative;\n    width: 80%;\n    max-width: 80%;\n    height: 100%;\n    margin: 30px auto;\n    overflow: hidden;\n`;\n\nexport const NoMovies = styled.div`\n  font-size: 1.5rem;\n  text-align: center;\n  width: 100%;\n  color: ${props => props.theme.error};\n`;\n","import React, { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { CSSTransition, SwitchTransition, TransitionGroup } from 'react-transition-group';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport moviesReducer, { changePage, fetchMovies, getMoviesCount, resetFilter } from 'reducers/moviesReducer';\nimport useDeviceDimensions from 'hooks/useDeviceDimensions';\nimport ImageWorker from 'service-workers/imageLoader.worker';\nimport { API_URL } from 'api/BaseAPI';\nimport { Button } from 'components/basic';\nimport { transitionFunctions } from 'config/animationConstants';\nimport { addHorizontalDrag } from 'utils/DomUtils';\nimport MoviesPagination from './MoviesPagination';\nimport MoviesGrid from './MoviesGrid';\nimport { NoMovies, StyledMoviesContainer } from './styles';\nimport { Wrapper } from './MoviesGrid/styles';\n\nconst DEFAULT_THRESHOLD = 300;\nconst selector = createSelector(\n  store => store.moviesReducer.movies,\n  store => store.moviesReducer.isLoading,\n  (movies, isLoading ) => ({\n    movies,\n    isLoading,\n  })\n)\nconst AllMovies = () => {\n  const dispatch = useDispatch();\n  // Static fields\n  // Is mounted\n  const isMounted = useRef(true);\n  // Needed to calculate the swipe distance\n  const prevDragX = useRef(0);\n  // Ref to the MoviesGrid component (attached manually in useEffect)\n  const gridRef = useRef();\n  // Flag isDragging\n  const isDragging = useRef();\n  const containerRef = useRef();\n  \n  const { width: screenWidth } = useDeviceDimensions();\n  const { movies = [], isLoading } = useSelector(selector);\n  \n  const [posters, setPosters] = useState({});\n  const [imageWorker, setImageWorker] = useState(null);\n  \n  const [classNames, setClassNames] = useState('page-transition-prev');\n  const [transitionKey, setTransitionKey] = useState('');\n  const pageChanged = useCallback((current, previous) => {\n    setClassNames(() => `page-transition-${current > previous ? 'next' : 'prev'}`);\n    setTransitionKey(Math.random());\n  }, [])\n  \n  const imagesReceived = useCallback(msg => {\n    if (!isMounted.current) return;\n    const { data: { id, imageData } } = msg;\n    setPosters(p => ({ ...p, [id]: imageData }));\n  }, [imageWorker]);\n  \n  useEffect(() => {\n    const worker = new ImageWorker();\n    isMounted.current = true;\n    worker.onmessage = imagesReceived;\n    setImageWorker(worker);\n    return () => {\n      isMounted.current = false;\n      setImageWorker(null);\n    }\n  }, []);\n  \n  useEffect(() => {\n    if (movies.length === 0 || !imageWorker)\n      return;\n    \n    movies.forEach(({ id, posterName }) => {\n      imageWorker.postMessage({\n        id: id,\n        url: `${API_URL}movies/poster/${posterName}`,\n      });\n    });\n  }, [movies, imageWorker]);\n  \n  const swipeThreshold = useMemo(() => screenWidth / 2 || DEFAULT_THRESHOLD, [screenWidth]);\n\n  const onDragStart = useCallback(e => {\n    if (e.target.closest('.pagination') !== null) {\n      // Ignore if we click pagination\n      isDragging.current = false;\n      return;\n    }\n\n    isDragging.current = true;\n    gridRef.current = document.querySelector('.movies_grid');\n    prevDragX.current = 0;\n    gridRef.current.style.transition = 'none';\n  }, [])\n  \n  const onDrag = useCallback((e, xDiff) => {\n    if (!isDragging.current) return;\n    prevDragX.current = xDiff;\n    if (Math.abs(xDiff) > swipeThreshold) return;\n    gridRef.current.style.transform = 'translateX(' + (-xDiff) + 'px)';\n    gridRef.current.style.filter = 'blur(' + Math.abs(xDiff / 100) + 'px)';\n  }, [swipeThreshold])\n  \n  const onDragEnd = useCallback(() => {\n    if (!isDragging.current) return;\n    const grid = gridRef.current;\n    const dragAmount = prevDragX.current;\n    \n    grid.style.filter = null;\n    const transitionDuration = 200;\n    grid.style.transition = `all ${transitionDuration}ms ${transitionFunctions.standardEasing}`;\n    \n    if (Math.abs(dragAmount) >= swipeThreshold) {\n      dispatch(changePage(dragAmount < 0 ? 'prev' : 'next')).then(isSamePage => {\n        if (isSamePage) {\n          grid.style.transform = 'translateX(0)';\n          setTimeout(() => grid.style.transition = null, transitionDuration);\n        } else {\n          grid.style.opacity = 0;\n          grid.style.transform = `translateX(${dragAmount > 0 ? '-120%' : '120%'})`;\n        }\n      });\n    } else {\n      grid.style.transform = 'translateX(0)';\n      setTimeout(() => grid.style.transition = null, transitionDuration)\n    }\n    prevDragX.current = 0;\n  }, [swipeThreshold])\n  \n  useEffect(() => {\n    if (!containerRef.current) return;\n    const drag = addHorizontalDrag(containerRef.current, onDragStart, onDrag, onDragEnd);\n    return () => drag.dispose()\n  }, [containerRef, onDrag, onDragEnd])\n  \n  function dispatchResetFilter() {\n    dispatch(resetFilter());\n  }\n  \n  return (\n    <StyledMoviesContainer\n      ref={containerRef}\n    >\n      {!isLoading && movies.length === 0 &&\n      <NoMovies>\n        <p>No movies found</p>\n        <br/>\n        <Button type='text' text='Reset filters' onClick={dispatchResetFilter}/>\n      </NoMovies>\n      }\n      <MoviesPagination className='pagination' onPageChange={pageChanged} />\n      <SwitchTransition>\n        <CSSTransition\n          timeout={200}\n          classNames={classNames}\n          key={transitionKey}\n        >\n          <MoviesGrid\n            className='movies_grid'\n            isLoading={isLoading}\n            movies={movies}\n            posters={posters}\n          />\n        </CSSTransition>\n      </SwitchTransition>\n    </StyledMoviesContainer>\n  );\n};\n\nexport default AllMovies;","import React from 'react';\nimport AllMovies from 'modules/movies/AllMovies';\n\nconst MainPage = () => {\n  \n  return (\n    <AllMovies/>\n  );\n};\n\nexport default MainPage;\n"],"sourceRoot":""}