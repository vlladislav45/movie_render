(this.webpackJsonpmovie_render=this.webpackJsonpmovie_render||[]).push([[5],{127:function(e,n,t){e.exports=function(){return new Worker(t.p+"0908477fb3b541ebbbcb.worker.js")}},143:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(8),i=t(1),c=t(4),u=t(147),s=t(151),l=t(7),f=t(16),m=t(18),d=t(27),b=t(127),g=t.n(b),p=t(30),v=t(13),h=t(5),O=t(53),j=t(12),y=t(128),x=t.n(y),E=t(32),k=Object(f.a)((function(e){return e.moviesReducer}),(function(e){return{count:e.count,selectedPage:e.selectedPage,moviesPerPage:e.moviesPerPage}})),w=function(e){var n=e.style,t=e.className,o=e.onPageChange,i=Object(l.d)(),u=Object(j.g)(),s=Object(j.h)(),f=s.search,d=s.pathname,b=Object(l.e)(k),g=b.count,p=void 0===g?0:g,v=b.selectedPage,h=void 0===v?0:v,O=b.moviesPerPage,y=Object(r.useState)(h),w=Object(c.a)(y,2),P=w[0],R=w[1];return Object(r.useEffect)((function(){i(Object(m.l)())}),[]),Object(r.useEffect)((function(){f?function(){var e=x.a.parse(f),n=Number(e.items),t=Number(e.page);isNaN(n)||n===O||i(Object(m.d)(n)),isNaN(t)||(t<=1?i(Object(m.f)(0)):t!==P+1&&(p>0&&t>=Math.ceil(p/O)&&(t=Math.ceil(p/O)),R(t-1),i(Object(m.f)(t-1))))}():i(Object(m.f)(0))}),[f]),Object(r.useLayoutEffect)((function(){h!==P&&(o(h,P),u.push(d+"?page=".concat(h+1,"&items=").concat(O)),R(h))}),[h]),p<=0?null:a.a.createElement("div",{style:n,className:t},a.a.createElement(E.h,{onPageChange:function(e){e!==h&&i(Object(m.f)(e))},itemsCount:p,currentPage:P,itemsPerPage:O}))},P=t(35);var R=t(68);function C(){return(C=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function M(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var S=a.a.createElement("g",null,a.a.createElement("title",null,"background"),a.a.createElement("rect",{fill:"none",id:"canvas_background",height:602,width:802,y:-1,x:-1})),N=a.a.createElement("g",null,a.a.createElement("path",{id:"svg_1",fill:"none",d:"m0,0.25948l24,0l0,24l-24,0l0,-24z"}),a.a.createElement("path",{id:"svg_2",d:"m17,3l-10,0c-1.1,0 -1.99,0.9 -1.99,2l-0.01,16l7,-3l7,3l0,-16c0,-1.1 -0.9,-2 -2,-2z"}),a.a.createElement("ellipse",{className:"sign-circle",strokeWidth:2,stroke:"#000",ry:6,rx:6,id:"svg_7",cy:16.91884,cx:16.81674,fill:"#fff"}),a.a.createElement("line",{className:"sign-stroke",stroke:"#000",id:"svg_11",y2:17.25529,x2:19.4236,y1:17.25529,x1:14.23409,fillOpacity:"null",strokeOpacity:"null",strokeWidth:2,fill:"none"})),L=function(e){var n=e.svgRef,t=e.title,r=M(e,["svgRef","title"]);return a.a.createElement("svg",C({width:24.000000000000004,height:24.000000000000004,ref:n},r),t?a.a.createElement("title",null,t):null,S,N)},I=a.a.forwardRef((function(e,n){return a.a.createElement(L,C({svgRef:n},e))}));t.p;function z(){return(z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function X(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var _=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),B=a.a.createElement("path",{d:"M8 5v14l11-7z"}),$=function(e){var n=e.svgRef,t=e.title,r=X(e,["svgRef","title"]);return a.a.createElement("svg",z({height:24,viewBox:"0 0 24 24",width:24,ref:n},r),t?a.a.createElement("title",null,t):null,_,B)},D=a.a.forwardRef((function(e,n){return a.a.createElement($,z({svgRef:n},e))})),W=(t.p,t(3)),J=t(2),T=t(6);function q(){var e=Object(W.a)(["\n  margin-left: auto;\n  margin-right: 8px;\n  & > div {\n    width: 1.1rem;\n    height: 1.1rem;\n  }\n"]);return q=function(){return e},e}function F(){var e=Object(W.a)(["\n  text-align: left;\n  color: ",";\n  font-size: .8rem;\n"]);return F=function(){return e},e}function G(){var e=Object(W.a)(["\n  & > button {font-size: 0.7rem!important;}\n"]);return G=function(){return e},e}function H(){var e=Object(W.a)(["\n  margin-top: auto;\n  width: 100%;\n  display: flex;\n  align-items: center;\n"]);return H=function(){return e},e}function U(){var e=Object(W.a)(["\n  margin-top: 10px;\n  font-size: 0.6rem;\n  color: ",";\n"]);return U=function(){return e},e}function A(){var e=Object(W.a)(["\n  font-size: 0.7rem;\n  color: ",";\n  overflow-y: scroll;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  &::-webkit-scrollbar {\n    width: 0px;\n    background: transparent; /* Disable scrollbar Chrome/Safari/Webkit */\n  }\n"]);return A=function(){return e},e}function K(){var e=Object(W.a)(["\n  font-size: 0.75rem;\n  color: ",";\n  margin-bottom: 8px;\n"]);return K=function(){return e},e}function Q(){var e=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  height: 45%;\n  overflow: hidden;\n  font-family: 'Roboto', sans-serif;\n"]);return Q=function(){return e},e}function V(){var e=Object(W.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 0.6rem;\n  & > :not(:first-child), & > :not(:last-child) {\n    margin: 0 2px;\n  }\n  color: ",";\n"]);return V=function(){return e},e}function Y(){var e=Object(W.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n  padding: 5px 0;\n  \n  font-size: 0.9rem;\n  text-align: left;\n  font-family: 'Roboto', sans-serif;\n  color: ",";\n\n"]);return Y=function(){return e},e}function Z(){var e=Object(W.a)(["\n  fill: ",";\n  & .sign-stroke {\n    stroke: ",";\n  }\n  & .sign-circle {\n    stroke: ",";\n    fill: ",";\n  }\n  transition: opacity 0.5s;\n  ",";\n"]);return Z=function(){return e},e}function ee(){var e=Object(W.a)(["\n  position: absolute;\n  right: 10px;\n  top: 30%;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  z-index: 99;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: ",";\n  transition: all ","ms ",";\n  &:hover {\n    cursor: pointer;\n    transform: scale(1.06);\n    box-shadow: ",";\n  }\n  \n  ",";\n  \n  ",";\n"]);return ee=function(){return e},e}function ne(){var e=Object(W.a)(["\n  width: 100%;\n  height: 35%;\n  opacity: 0;\n  transition: opacity 0.3s;\n  ",";\n"]);return ne=function(){return e},e}function te(){var e=Object(W.a)(["\n  position: absolute;\n  top: 35%;\n  left: 0;\n  width: 100%;\n  height: 65%;\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n"]);return te=function(){return e},e}function re(){var e=Object(W.a)(["","\n"]);return re=function(){return e},e}h.b.largeExpand,h.b.largeCollapsing;var ae=h.c.standardEasing,oe=(h.c.deceleratedEasing,h.c.acceleratedEasing,J.c.div(re(),(function(e){var n=e.theme,t=n.isDark;n.surface,n.secondary;return"\n    position: relative;\n    overflow: hidden;\n    width: 260px;\n    height: 450px;\n    border-radius: 4px;\n    margin: 0 auto;\n    box-shadow: ".concat(Object(T.a)(4),";\n    ").concat(t&&"\n          box-shadow: ".concat(Object(T.a)(4),",\n                      inset 0 0 0 2000px rgba(255,255,255,\n                      ").concat(Object(T.b)(4),");\n    "),";\n  ")}))),ie=J.c.div(te()),ce=J.c.img(ne(),(function(e){return e.fadeIn&&"opacity: 1"})),ue=J.c.div(ee(),(function(e){return e.theme.secondary}),Object(T.a)(2),h.b.mediumExpand,ae,Object(T.a)(4),(function(e){return e.$disabled&&"\n    pointer-events: none;\n    background: ".concat(e.theme.disabled,";\n    box-shadow: none;\n  ")}),(function(e){return e.$isLoading&&"\n    &:after {\n      position: absolute;\n      content: '';\n      width: 80%;\n      height: 80%;\n      border-radius: 50%;\n      border-top: 2px solid ".concat(e.theme.overlay,";\n      animation: rotate 1s infinite ").concat(ae,";\n    }\n    \n    @keyframes rotate {\n      from {\n        transform: rotate(0);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n  ")})),se=Object(J.c)(R.a)(Z(),(function(e){return e.theme.onSecondary}),(function(e){return e.theme.onSecondary}),(function(e){return e.theme.onSecondary}),(function(e){return e.theme.contrast}),(function(e){return e.$isLoading&&"\n  \n  "})),le=J.c.p(Y(),(function(e){return e.theme.onSurface})),fe=J.c.div(V(),(function(e){return e.theme.onSurfaceMD})),me=J.c.div(Q()),de=J.c.p(K(),(function(e){return e.theme.onSurface})),be=J.c.p(A(),(function(e){return e.theme.onSurfaceMD})),ge=J.c.p(U(),(function(e){return e.theme.onSurface})),pe=J.c.div(H()),ve=Object(J.c)(v.a)(G()),he=(J.c.p(F(),(function(e){return e.theme.onSurface})),Object(J.c)(E.i)(q())),Oe=function(e){var n=e.movie,t=n.id,r=n.year,o=n.movieName,i=n.movieRating,c=n.summary,u=n.actors,s=n.genres,l=n.duration,f=e.poster,m=e.onClick,d=e.onBookMarkClick,b=e.isBookmarked,g=e.showBookmark,p=e.isLoading;return a.a.createElement(oe,null,a.a.createElement(ce,{fadeIn:!!f,alt:f?"Movie poster ".concat(o):"",src:f}),g&&a.a.createElement(ue,{onClick:function(e){e.stopPropagation(),d(t,o)},title:b?"Remove bookmark":"Bookmark movie",$disabled:p,$isLoading:p},a.a.createElement(se,{as:b?I:R.a,$isLoading:p})),a.a.createElement(ie,null,a.a.createElement(le,null,o),a.a.createElement(fe,null,a.a.createElement("p",null,function(e){var n=Math.floor(e/6e4%60),t=Math.floor(e/36e5%24);return(t=0===t?"":t+"h ")+(n=0===n?"":n+"min")}(l)),a.a.createElement("p",null,"/"),a.a.createElement("p",null,r),s.length>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"/"),a.a.createElement("p",null,s.join(", ")))),c&&a.a.createElement(me,null,a.a.createElement(de,null,"Summary"),a.a.createElement(be,null,c)),a.a.createElement(ge,null,u.join(", ")),a.a.createElement(pe,null,a.a.createElement(ve,{Icon:D,color:"secondary",onClick:function(){m(t)},type:"text"},"Watch"),a.a.createElement(he,{color:"secondary",rating:i,maxStars:5}))))},je=t(11);function ye(){var e=Object(W.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  \n  margin: 30px auto;\n  \n  &.page-transition-prev-enter {\n    transform: translateX(-120%);\n  }\n  &.page-transition-prev-enter-active, &.page-transition-prev-enter-done {\n    transform: translateX(0);\n    transition: transform ","ms ",";\n  }\n\n  &.page-transition-prev-exit {\n    transform: translateX(0);\n  }\n  \n  &.page-transition-prev-exit-active, &.page-transition-prev-exit-done {\n    transform: translateX(120%);\n    transition: transform ","ms ",";\n  }\n  \n  &.page-transition-next-enter {\n    transform: translateX(120%);\n  }\n  &.page-transition-next-enter-active, &.page-transition-next-enter-done {\n    transform: translateX(0);\n    transition: transform ","ms ",";\n  }\n\n  &.page-transition-next-exit {\n    transform: translateX(0);\n  }\n  &.page-transition-next-exit-active, &.page-transition-next-exit-done {\n    transform: translateX(-120%);\n    transition: transform ","ms ",";\n  }\n"]);return ye=function(){return e},e}function xe(){var e=Object(W.a)(["",""]);return xe=function(){return e},e}var Ee=h.b.largeExpand,ke=h.b.largeCollapsing,we=(h.c.standardEasing,h.c.deceleratedEasing),Pe=h.c.acceleratedEasing,Re=J.c.div(xe(),(function(e){var n=e.fadeIn,t=e.moviesPerPage,r=function(e,n){switch(e){case je.f:case je.d:return Math.min(1,n);case je.c:case je.b:return Math.min(2,n);default:return Math.min(3,n)}}(e.$device,t),a=Math.ceil(t/r);return"\n    display: grid;\n    grid-template-columns: repeat(".concat(r,", 1fr);\n    grid-template-rows: repeat(").concat(a,", auto);\n    grid-auto-rows: min-content;\n    grid-column-gap: 10px;\n    grid-row-gap: 10px;\n    \n    width: 100%;\n    height: 100%;\n    position: relative;\n    opacity: 0;\n    ").concat(n&&"\n      transition: opacity 300ms;\n      opacity: 1\n    ",";\n    ")})),Ce=J.c.div(ye(),Ee,we,ke,Pe,Ee,we,ke,Pe);var Me=Object(f.a)((function(e){return e.userReducer}),(function(e){return e.auth}),(function(e){return e.moviesReducer}),(function(e,n,t){return{bookmarks:e.bookmarks,userId:n.loggedInUser.userId,isLoggedIn:n.isLoggedIn,bookmarksLoading:e.bookmarksLoading,selectedPage:t.selectedPage,moviesPerPage:t.moviesPerPage}})),Se=a.a.forwardRef((function(e,n){var t=e.isLoading,o=e.movies,i=e.posters,c=e.className,u=Object(l.d)(),s=Object(j.g)(),f=Object(d.a)("MoviesGrid").device,m=Object(l.e)(Me),b=m.bookmarks,g=m.bookmarksLoading,p=m.userId,v=m.isLoggedIn,h=(m.selectedPage,m.moviesPerPage),O=Object(r.useCallback)((function(e){s.push("/movie/"+e)}),[s]),y=Object(r.useCallback)((function(e,n){var t=b.some((function(t){return t.movieId===e&&t.movieName===n}));u(t?Object(P.c)(e,p,n):Object(P.a)(e,p,n))}),[b]),x=Object(r.useCallback)((function(){return o.map((function(e,n){var t=b.some((function(n){return n.movieId===e.id&&n.movieName===e.movieName}));return a.a.createElement(Oe,{key:e.id,onClick:O,showBookmark:v,onBookMarkClick:y,isBookmarked:t,isLoading:g[e.id],movie:e,poster:i[e.id]})}))}),[o,i,b,g]);return a.a.createElement(Ce,{className:c,ref:n},a.a.createElement(E.e,{isLoading:t||!f,key:"loading"}),!!f&&a.a.createElement(Re,{$device:f,fadeIn:!t,moviesPerPage:h},x()))}));function Ne(){var e=Object(W.a)(["\n  font-size: 1.5rem;\n  text-align: center;\n  width: 100%;\n  color: ",";\n"]);return Ne=function(){return e},e}function Le(){var e=Object(W.a)(["\n    position: relative;\n    width: 80%;\n    max-width: 80%;\n    height: 100%;\n    margin: 30px auto;\n    overflow: hidden;\n"]);return Le=function(){return e},e}var Ie=J.c.div(Le()),ze=J.c.div(Ne(),(function(e){return e.theme.error})),Xe=Object(f.a)((function(e){return e.moviesReducer.movies}),(function(e){return e.moviesReducer.isLoading}),(function(e,n){return{movies:e,isLoading:n}})),_e=function(){var e=Object(l.d)(),n=Object(r.useRef)(!0),t=Object(r.useRef)(0),f=Object(r.useRef)(),b=Object(r.useRef)(),j=Object(r.useRef)(),y=Object(d.a)().width,x=Object(l.e)(Xe),E=x.movies,k=void 0===E?[]:E,P=x.isLoading,R=Object(r.useState)({}),C=Object(c.a)(R,2),M=C[0],S=C[1],N=Object(r.useState)(null),L=Object(c.a)(N,2),I=L[0],z=L[1],X=Object(r.useState)("page-transition-prev"),_=Object(c.a)(X,2),B=_[0],$=_[1],D=Object(r.useState)(""),W=Object(c.a)(D,2),J=W[0],T=W[1],q=Object(r.useCallback)((function(e,n){$((function(){return"page-transition-".concat(e>n?"next":"prev")})),T(Math.random())}),[]),F=Object(r.useCallback)((function(e){if(n.current){var t=e.data,r=t.id,a=t.imageData;S((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},r,a))}))}}),[I]);Object(r.useEffect)((function(){var e=new g.a;return n.current=!0,e.onmessage=F,z(e),function(){n.current=!1,z(null)}}),[]),Object(r.useEffect)((function(){0!==k.length&&I&&k.forEach((function(e){var n=e.id,t=e.posterName;I.postMessage({id:n,url:"".concat(p.a,"movies/poster/").concat(t)})}))}),[k,I]);var G=Object(r.useMemo)((function(){return y/2||300}),[y]),H=Object(r.useCallback)((function(e){null===e.target.closest(".pagination")?(b.current=!0,f.current=document.querySelector(".movies_grid"),t.current=0,f.current.style.transition="none"):b.current=!1}),[]),U=Object(r.useCallback)((function(e,n){b.current&&(t.current=n,Math.abs(n)>G||(f.current.style.transform="translateX("+-n+"px)",f.current.style.filter="blur("+Math.abs(n/100)+"px)"))}),[G]),A=Object(r.useCallback)((function(){if(b.current){var n=f.current,r=t.current;n.style.filter=null;n.style.transition="all ".concat(200,"ms ").concat(h.c.standardEasing),Math.abs(r)>=G?e(Object(m.e)(r<0?"prev":"next")).then((function(e){e?(n.style.transform="translateX(0)",setTimeout((function(){return n.style.transition=null}),200)):(n.style.opacity=0,n.style.transform="translateX(".concat(r>0?"-120%":"120%",")"))})):(n.style.transform="translateX(0)",setTimeout((function(){return n.style.transition=null}),200)),t.current=0}}),[G]);return Object(r.useEffect)((function(){if(j.current){var e=Object(O.a)(j.current,H,U,A);return function(){return e.dispose()}}}),[j,U,A]),a.a.createElement(Ie,{ref:j},!P&&0===k.length&&a.a.createElement(ze,null,a.a.createElement("p",null,"No movies found"),a.a.createElement("br",null),a.a.createElement(v.a,{type:"text",text:"Reset filters",onClick:function(){e(Object(m.o)())}})),a.a.createElement(w,{className:"pagination",onPageChange:q}),a.a.createElement(u.a,null,a.a.createElement(s.a,{timeout:200,classNames:B,key:J},a.a.createElement(Se,{className:"movies_grid",isLoading:P,movies:k,posters:M}))))};n.default=function(){return a.a.createElement(_e,null)}}}]);
//# sourceMappingURL=5.8ebe677d.chunk.js.map